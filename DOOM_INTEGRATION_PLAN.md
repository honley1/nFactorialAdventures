# üéØ –ü–õ–ê–ù –ò–ù–¢–ï–ì–†–ê–¶–ò–ò nFactorial DOOM

## üìã **–°–Æ–ñ–ï–¢ –ò –ö–û–ù–¶–ï–ü–¶–ò–Ø**

### **üéÆ –ò–≥—Ä–æ–≤–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è:**
**nFactorial DOOM Academy** - –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è, –≥–¥–µ —Å—Ç—É–¥–µ–Ω—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –∏—Å–ø—ã—Ç–∞–Ω–∏—è –±—É—Ç–∫–µ–º–ø–∞, —Å—Ä–∞–∂–∞—è—Å—å —Å –±–∞–≥–∞–º–∏ –∏ –¥–µ–¥–ª–∞–π–Ω–∞–º–∏ –≤ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞—Ö –∫–æ–¥–∞.

### **üìñ –°—é–∂–µ—Ç–Ω–∞—è –∞—Ä–∫–∞:**

**–ü—Ä–æ–ª–æ–≥:** –°—Ç—É–¥–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–∏–º—É–ª—è—Ü–∏–∏ nFactorial, —á—Ç–æ–±—ã –æ—Ç—Ç–æ—á–∏—Ç—å –Ω–∞–≤—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö.

**–£—Ä–æ–≤–Ω–∏-–ù–µ–¥–µ–ª–∏:**
1. **Week 1: HTML Hell** üî• - –û—Å–Ω–æ–≤—ã –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –ø—Ä–æ—Å—Ç—ã–µ –±–∞–≥–∏
2. **Week 3: CSS Nightmare** üëπ - –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å, —Å–ª–æ–∂–Ω—ã–µ –≤—Ä–∞–≥–∏
3. **Week 5: JavaScript Inferno** ‚ö° - –õ–æ–≥–∏–∫–∞ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –±–æ—Å—Å—ã –¥–µ–¥–ª–∞–π–Ω–æ–≤
4. **Week 8: React Abyss** ‚öõÔ∏è - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∫–æ–º–∞–Ω–¥–Ω—ã–µ –∫–≤–µ—Å—Ç—ã
5. **Week 10: Final Exam Doom** üíÄ - –§–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –≤—Å–µ –≤—Ä–∞–≥–∏ –≤–º–µ—Å—Ç–µ

**–≠–ø–∏–ª–æ–≥:** –í—ã–ø—É—Å–∫ –∏–∑ nFactorial —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º "DOOM Survivor".

---

## üîó **–¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï –°–í–Ø–ó–ï–ô**

### **‚úÖ –ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram (`/api/auth/login`)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ MongoDB
- DOOM —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω

### **üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å:**

#### **1. –ù–æ–≤—ã–µ API endpoints (—É–∂–µ —Å–æ–∑–¥–∞–Ω—ã):**
```
POST /api/doom/init          - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è DOOM —Å–µ—Å—Å–∏–∏
POST /api/doom/sync          - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä–æ–∫–∞
POST /api/doom/enemy-killed  - –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –≤—Ä–∞–≥–∞
POST /api/doom/item-collected - –°–±–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–∞
POST /api/doom/npc-dialogue  - –î–∏–∞–ª–æ–≥ —Å NPC
POST /api/doom/death         - –°–º–µ—Ä—Ç—å –∏–≥—Ä–æ–∫–∞
POST /api/doom/level-complete - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
GET  /api/doom/leaderboard   - –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤
```

#### **2. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö DoomSession (—É–∂–µ —Å–æ–∑–¥–∞–Ω–∞):**
- –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç–æ–≤ –∏–≥—Ä–æ–∫–∞ (health, armor, ammo)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —É–±–∏—Ç—ã—Ö –≤—Ä–∞–≥–æ–≤ –ø–æ —Ç–∏–ø–∞–º
- –ü—Ä–æ–≥—Ä–µ—Å—Å –¥–∏–∞–ª–æ–≥–æ–≤ —Å NPC
- –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## üõ† **–ü–õ–ê–ù –ò–ù–¢–ï–ì–†–ê–¶–ò–ò –§–†–û–ù–¢–ï–ù–î–ê**

### **–≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**

#### **1.1 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∏–≥—Ä—É**
```javascript
// –í doom.js, –º–µ—Ç–æ–¥ initGame()
async initGame() {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
    
    // –î–û–ë–ê–í–ò–¢–¨: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è DOOM —Å–µ—Å—Å–∏–∏
    await this.initDoomSession();
}

async initDoomSession() {
    try {
        const response = await fetch('/api/doom/init', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                telegramId: this.tg?.initDataUnsafe?.user?.id
            })
        });
        
        const result = await response.json();
        if (result.success) {
            this.doomSession = result.session;
            
            // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞
            this.player.health = this.doomSession.player.health;
            this.player.armor = this.doomSession.player.armor;  
            this.player.ammo = this.doomSession.player.ammo;
            
            console.log('üéÆ DOOM session initialized');
        }
    } catch (error) {
        console.error('‚ùå Failed to init DOOM session:', error);
    }
}
```

#### **1.2 –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**
```javascript
// –î–û–ë–ê–í–ò–¢–¨: –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
startAutoSync() {
    setInterval(() => {
        this.syncPlayerStats();
    }, 30000); // 30 —Å–µ–∫—É–Ω–¥
}

async syncPlayerStats() {
    try {
        const response = await fetch('/api/doom/sync', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                telegramId: this.tg?.initDataUnsafe?.user?.id,
                player: {
                    x: this.player.x,
                    y: this.player.y,
                    angle: this.player.angle,
                    health: this.player.health,
                    armor: this.player.armor,
                    ammo: this.player.ammo
                },
                sessionTime: 30 // —Å–µ–∫—É–Ω–¥ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
            })
        });
        
        const result = await response.json();
        console.log('üîÑ Player stats synced');
    } catch (error) {
        console.error('‚ùå Sync failed:', error);
    }
}
```

### **–≠—Ç–∞–ø 2: –°–æ–±—ã—Ç–∏—è –∏–≥—Ä—ã**

#### **2.1 –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –≤—Ä–∞–≥–æ–≤**
```javascript
// –ò–ó–ú–ï–ù–ò–¢–¨: –ú–µ—Ç–æ–¥ killEnemy()
async killEnemy(enemyIndex) {
    const enemy = this.enemies[enemyIndex];
    if (!enemy || enemy.health <= 0) return;
    
    // –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ —É–±–∏–π—Å—Ç–≤–∞...
    enemy.health = 0;
    
    // –î–û–ë–ê–í–ò–¢–¨: –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
    try {
        const response = await fetch('/api/doom/enemy-killed', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                telegramId: this.tg?.initDataUnsafe?.user?.id,
                enemyId: enemy.id,
                enemyType: enemy.type,
                playerStats: this.player,
                shotsFired: 1
            })
        });
        
        const result = await response.json();
        if (result.success) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ–ø—ã—Ç
            if (result.expGain) {
                this.showNotification(`+${result.expGain} EXP`, 'success');
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
            if (result.levelUp) {
                this.showNotification(`LEVEL UP! –£—Ä–æ–≤–µ–Ω—å ${result.newLevel}`, 'levelup');
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            result.newAchievements?.forEach(achievement => {
                this.showNotification(`üèÜ ${achievement.name}`, 'achievement');
            });
        }
    } catch (error) {
        console.error('‚ùå Failed to record enemy kill:', error);
    }
}
```

#### **2.2 –°–±–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–æ–≤**
```javascript
// –ò–ó–ú–ï–ù–ò–¢–¨: –ú–µ—Ç–æ–¥ collectItem()
async collectItem(itemIndex) {
    const item = this.items[itemIndex];
    if (!item) return;
    
    // –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ —Å–±–æ—Ä–∞...
    switch (item.type) {
        case 'coffee':
            this.player.health = Math.min(100, this.player.health + item.value);
            break;
        // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã
    }
    
    // –î–û–ë–ê–í–ò–¢–¨: –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
    try {
        const response = await fetch('/api/doom/item-collected', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                telegramId: this.tg?.initDataUnsafe?.user?.id,
                itemId: item.id,
                itemType: item.type,
                value: item.value,
                playerStats: this.player
            })
        });
        
        const result = await response.json();
        if (result.success && result.newAchievements) {
            result.newAchievements.forEach(achievement => {
                this.showNotification(`üèÜ ${achievement.name}`, 'achievement');
            });
        }
    } catch (error) {
        console.error('‚ùå Failed to record item collection:', error);
    }
    
    // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥–º–µ—Ç –∏–∑ –º–∞—Å—Å–∏–≤–∞
    this.items.splice(itemIndex, 1);
}
```

#### **2.3 –î–∏–∞–ª–æ–≥–∏ —Å NPC**
```javascript
// –ò–ó–ú–ï–ù–ò–¢–¨: –ú–µ—Ç–æ–¥—ã –¥–∏–∞–ª–æ–≥–æ–≤
async continueDialogue() {
    if (!this.dialogue.active || !this.dialogue.npc) return;
    
    this.dialogue.messageIndex++;
    const npc = this.dialogue.npc;
    
    // –ï—Å–ª–∏ –¥–∏–∞–ª–æ–≥ –∑–∞–≤–µ—Ä—à–µ–Ω
    if (this.dialogue.messageIndex >= npc.dialogue.length) {
        this.dialogue.active = false;
        
        // –î–û–ë–ê–í–ò–¢–¨: –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
        try {
            const response = await fetch('/api/doom/npc-dialogue', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    telegramId: this.tg?.initDataUnsafe?.user?.id,
                    npcId: npc.id,
                    dialogueStage: this.dialogue.messageIndex,
                    completed: true
                })
            });
            
            const result = await response.json();
            if (result.success) {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã
                this.showNotification('–î–∏–∞–ª–æ–≥ –∑–∞–≤–µ—Ä—à–µ–Ω! –ü–æ–ª—É—á–µ–Ω—ã –Ω–∞–≥—Ä–∞–¥—ã', 'success');
            }
        } catch (error) {
            console.error('‚ùå Failed to record dialogue:', error);
        }
        
        this.hideDialogue();
        return;
    }
    
    this.updateDialogueDisplay();
}
```

### **–≠—Ç–∞–ø 3: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**

#### **3.1 –°–∏—Å—Ç–µ–º–∞ —Å–º–µ—Ä—Ç–∏ –∏ –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏—è**
```javascript
// –î–û–ë–ê–í–ò–¢–¨: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–º–µ—Ä—Ç–∏
async handlePlayerDeath(cause, enemyType = null) {
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä
    try {
        const response = await fetch('/api/doom/death', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                telegramId: this.tg?.initDataUnsafe?.user?.id,
                cause: cause,
                enemyType: enemyType
            })
        });
        
        const result = await response.json();
        if (result.success) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω —Å–º–µ—Ä—Ç–∏
            this.showDeathScreen(result.message);
            
            // –ß–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –≤–æ–∑—Ä–æ–∂–¥–∞–µ–º
            setTimeout(() => {
                this.respawnPlayer();
            }, 3000);
        }
    } catch (error) {
        console.error('‚ùå Failed to record death:', error);
        this.respawnPlayer(); // –í–æ–∑—Ä–æ–∂–¥–∞–µ–º –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ
    }
}

respawnPlayer() {
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –∏ —Å—Ç–∞—Ç—ã
    this.player.x = 2;
    this.player.y = 2;
    this.player.health = 100;
    this.player.armor = 100;
    this.player.ammo = 50;
    
    // –°–∫—Ä—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω —Å–º–µ—Ä—Ç–∏
    this.hideDeathScreen();
    
    this.showNotification('–í–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ', 'info');
}
```

#### **3.2 –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π**
```javascript
// –î–û–ë–ê–í–ò–¢–¨: –õ–æ–≥–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
async completeLevel() {
    const score = this.calculateLevelScore();
    const enemiesKilled = this.enemies.filter(e => e.health <= 0).length;
    const itemsCollected = 3 - this.items.length; // –ù–∞—á–∏–Ω–∞–ª–∏ —Å 3 –ø—Ä–µ–¥–º–µ—Ç–æ–≤
    const timeSpent = this.getSessionTime();
    
    try {
        const response = await fetch('/api/doom/level-complete', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                telegramId: this.tg?.initDataUnsafe?.user?.id,
                week: this.currentWeek,
                score: score,
                enemiesKilled: enemiesKilled,
                itemsCollected: itemsCollected,
                timeSpent: timeSpent
            })
        });
        
        const result = await response.json();
        if (result.success) {
            this.showLevelCompleteScreen({
                score: score,
                expGain: result.expGain,
                levelUp: result.levelUp,
                newLevel: result.newLevel,
                achievements: result.newAchievements,
                nextLevelUnlocked: result.nextLevelUnlocked
            });
        }
    } catch (error) {
        console.error('‚ùå Failed to record level completion:', error);
    }
}

calculateLevelScore() {
    let score = 0;
    
    // –û—á–∫–∏ –∑–∞ –∑–¥–æ—Ä–æ–≤—å–µ
    score += this.player.health * 5;
    
    // –û—á–∫–∏ –∑–∞ –±—Ä–æ–Ω—é
    score += this.player.armor * 3;
    
    // –û—á–∫–∏ –∑–∞ –ø–∞—Ç—Ä–æ–Ω—ã
    score += this.player.ammo * 2;
    
    // –û—á–∫–∏ –∑–∞ —É–±–∏—Ç—ã—Ö –≤—Ä–∞–≥–æ–≤
    this.enemies.forEach(enemy => {
        if (enemy.health <= 0) {
            score += enemy.type === 'deadline' ? 100 : 50;
        }
    });
    
    // –û—á–∫–∏ –∑–∞ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
    score += (3 - this.items.length) * 25;
    
    return score;
}
```

#### **3.3 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**
```javascript
// –î–û–ë–ê–í–ò–¢–¨: –ü–æ–∫–∞–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–∞
showPlayerStats() {
    if (!this.doomSession) return;
    
    const statsHTML = `
        <div class="player-stats">
            <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞</h3>
            <div class="stats-grid">
                <div>üèÜ –£—Ä–æ–≤–µ–Ω—å: ${this.user.level}</div>
                <div>‚≠ê –û–ø—ã—Ç: ${this.user.experience}</div>
                <div>‚öîÔ∏è –í—Ä–∞–≥–æ–≤ —É–±–∏—Ç–æ: ${Object.values(this.doomSession.enemiesKilled).reduce((a,b) => a+b, 0)}</div>
                <div>üì¶ –ü—Ä–µ–¥–º–µ—Ç–æ–≤ —Å–æ–±—Ä–∞–Ω–æ: ${Object.values(this.doomSession.itemsCollected).reduce((a,b) => a+b, 0)}</div>
                <div>üéØ –¢–æ—á–Ω–æ—Å—Ç—å: ${this.doomSession.stats.accuracy}%</div>
                <div>‚è±Ô∏è –í—Ä–µ–º—è –∏–≥—Ä—ã: ${Math.floor(this.doomSession.stats.totalPlayTime / 60)} –º–∏–Ω</div>
                <div>üíÄ –°–º–µ—Ä—Ç–µ–π: ${this.doomSession.stats.deathsCount}</div>
                <div>üî• –õ—É—á—à–∏–π —Å—á–µ—Ç: ${this.doomSession.stats.bestWeekScore}</div>
            </div>
            <div class="achievements">
                <h4>üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (${this.doomSession.achievements.length})</h4>
                ${this.doomSession.achievements.map(a => `<span class="achievement">${a.name}</span>`).join('')}
            </div>
        </div>
    `;
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
    document.getElementById('stats-display').innerHTML = statsHTML;
}
```

---

## üé® **–î–û–ü–û–õ–ù–ï–ù–ò–Ø –î–õ–Ø –§–†–û–ù–¢–ï–ù–î–ê**

### **1. –ù–æ–≤—ã–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã:**
```css
/* –î–û–ë–ê–í–ò–¢–¨ –≤ doom.css */
.death-screen {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.9);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: #ff0000;
    font-size: 24px;
    z-index: 1000;
}

.level-complete-screen {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(45deg, #1a1a2e, #16213e);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: #00ff00;
    z-index: 1000;
}

.achievement-notification {
    position: fixed;
    top: 20px;
    right: 20px;
    background: linear-gradient(45deg, #ffd700, #ffed4e);
    color: #000;
    padding: 10px 20px;
    border-radius: 10px;
    animation: achievementPop 3s ease-in-out;
    z-index: 999;
}

@keyframes achievementPop {
    0% { transform: translateX(300px); opacity: 0; }
    20% { transform: translateX(0); opacity: 1; }
    80% { transform: translateX(0); opacity: 1; }
    100% { transform: translateX(300px); opacity: 0; }
}

.exp-notification {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #00ff00;
    font-size: 18px;
    font-weight: bold;
    animation: expFloat 2s ease-out;
    z-index: 999;
    pointer-events: none;
}

@keyframes expFloat {
    0% { opacity: 1; transform: translate(-50%, -50%); }
    100% { opacity: 0; transform: translate(-50%, -100px); }
}
```

### **2. –°–∏—Å—Ç–µ–º–∞ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤:**
```javascript
// –î–û–ë–ê–í–ò–¢–¨: –ö–Ω–æ–ø–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤ –≤ –º–µ–Ω—é
async showLeaderboard() {
    try {
        const response = await fetch('/api/doom/leaderboard?type=score&limit=10');
        const result = await response.json();
        
        if (result.success) {
            const leaderboardHTML = result.leaderboard.map((player, index) => `
                <div class="leaderboard-entry">
                    <span class="rank">#${player.rank}</span>
                    <span class="avatar">${getAvatarEmoji(player.avatar)}</span>
                    <span class="username">${player.username}</span>
                    <span class="score">${player.score}</span>
                    <span class="level">Lvl ${player.level}</span>
                </div>
            `).join('');
            
            document.getElementById('leaderboard-content').innerHTML = leaderboardHTML;
            this.showScreen('leaderboard');
        }
    } catch (error) {
        console.error('‚ùå Failed to load leaderboard:', error);
    }
}
```

---

## üöÄ **–ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò**

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):**
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å DoomSession 
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å API endpoints –¥–ª—è DOOM
3. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
4. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π (—É–±–∏–π—Å—Ç–≤–∞ –≤—Ä–∞–≥–æ–≤, —Å–±–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–æ–≤)

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ):**
5. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –æ–ø—ã—Ç–∞ –∏ —É—Ä–æ–≤–Ω–µ–π
6. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
7. ‚è≥ –°–æ–∑–¥–∞—Ç—å —ç–∫—Ä–∞–Ω—ã —Å–º–µ—Ä—Ç–∏ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):**
8. ‚è≥ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤
9. ‚è≥ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞
10. ‚è≥ –°–∏—Å—Ç–µ–º–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π

**–ì–æ—Ç–æ–≤—ã –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏? –ù–∞—á–Ω–µ–º —Å –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 1!** üéÆ 