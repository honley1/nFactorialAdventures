<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nFactorial DOOM</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="doom.css">
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loading-screen" class="screen active">
        <div class="doom-logo">
            <h1>nFactorial</h1>
            <h2>DOOM</h2>
        </div>
        <div class="loading-bar">
            <div class="loading-progress" id="loading-progress"></div>
        </div>
        <p class="loading-text">–ó–∞–≥—Ä—É–∂–∞–µ–º –ª–∞–±–∏—Ä–∏–Ω—Ç—ã –±—É—Ç–∫–µ–º–ø–∞...</p>
    </div>

    <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
    <div id="menu-screen" class="screen">
        <div class="doom-menu">
            <div class="menu-logo">
                <h1>nFactorial DOOM</h1>
                <p>–í—ã–∂–∏–≤–∏ –≤ –±—É—Ç–∫–µ–º–ø–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è!</p>
            </div>
            
            <div class="menu-buttons">
                <button id="start-game" class="doom-btn primary">üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
                <button id="respawn-btn" class="doom-btn danger">üíÄ –†–µ—Å–ø–∞–≤–Ω</button>
                <button id="settings-btn" class="doom-btn">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                <button id="leaderboard-btn" class="doom-btn">üèÜ –†–µ–π—Ç–∏–Ω–≥</button>
            </div>
            
            <div class="player-info">
                <div class="avatar-display">
                    <img id="player-avatar" src="" alt="Avatar">
                </div>
                <div class="player-stats">
                    <p id="player-name">–ò–≥—Ä–æ–∫</p>
                    <p id="player-level">–£—Ä–æ–≤–µ–Ω—å 1</p>
                    <div class="exp-bar">
                        <div class="exp-fill" id="exp-fill"></div>
                        <span class="exp-text" id="exp-text">0/100 EXP</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
    <div id="game-screen" class="screen">
        <!-- Canvas –¥–ª—è DOOM raycasting -->
        <canvas id="doom-canvas"></canvas>
        
        <!-- HUD –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
        <div class="doom-hud">
            <!-- –°—Ç–∞—Ç—É—Å—ã —Ä–µ—Å—É—Ä—Å–æ–≤ -->
            <div class="hud-stats">
                <div class="stat-bar">
                    <span class="stat-icon">‚ù§Ô∏è</span>
                    <div class="stat-progress health">
                        <div class="stat-fill" id="health-fill"></div>
                    </div>
                    <span class="stat-value" id="health-value">100</span>
                </div>
                
                <div class="stat-bar">
                    <span class="stat-icon">üõ°Ô∏è</span>
                    <div class="stat-progress armor">
                        <div class="stat-fill" id="armor-fill"></div>
                    </div>
                    <span class="stat-value" id="armor-value">100</span>
                </div>
                
                <div class="stat-bar">
                    <span class="stat-icon">üî´</span>
                    <div class="stat-progress ammo">
                        <div class="stat-fill" id="ammo-fill"></div>
                    </div>
                    <span class="stat-value" id="ammo-value">50</span>
                </div>
            </div>

            <!-- –ü—Ä–∏—Ü–µ–ª -->
            <div class="crosshair">+</div>

            <!-- –ú–∏–Ω–∏-–∫–∞—Ä—Ç–∞ -->
            <div class="minimap">
                <canvas id="minimap-canvas" width="120" height="120"></canvas>
            </div>
        </div>

        <!-- –ú–æ–±–∏–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="mobile-controls" id="mobile-controls">
            <!-- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–∂–æ–π—Å—Ç–∏–∫ -->
            <div class="joystick-container">
                <div class="joystick" id="movement-joystick">
                    <div class="joystick-knob"></div>
                </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="action-buttons">
                <button class="action-btn shoot" id="shoot-btn">üî´</button>
                <button class="action-btn interact" id="interact-btn">üí¨</button>
                <button class="action-btn turn-left" id="turn-left-btn">‚Üê</button>
                <button class="action-btn turn-right" id="turn-right-btn">‚Üí</button>
            </div>
        </div>

        <!-- –î–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ -->
        <div class="dialogue-box" id="dialogue-box">
            <div class="dialogue-content">
                <div class="npc-portrait">
                    <img id="npc-avatar" src="" alt="NPC">
                </div>
                <div class="dialogue-text">
                    <h3 id="npc-name">NPC</h3>
                    <p id="dialogue-message">–ü—Ä–∏–≤–µ—Ç, —Å—Ç—É–¥–µ–Ω—Ç!</p>
                </div>
                <button class="dialogue-continue" id="dialogue-continue">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div class="notifications" id="notifications"></div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –ø–∞—É–∑—ã -->
    <div id="pause-screen" class="screen overlay">
        <div class="pause-menu">
            <h2>–ü–∞—É–∑–∞</h2>
            <button id="resume-btn" class="doom-btn primary">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            <button id="menu-btn" class="doom-btn">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
            <button id="restart-btn" class="doom-btn danger">–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫</button>
        </div>
    </div>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
    <div id="settings-screen" class="screen overlay">
        <div class="settings-menu">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            <div class="setting-group">
                <label>–ó–≤—É–∫</label>
                <input type="range" id="volume-slider" min="0" max="100" value="50">
                <span id="volume-value">50%</span>
            </div>
            <div class="setting-group">
                <label>–í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫–∏</label>
                <input type="checkbox" id="sound-toggle" checked>
            </div>
            <div class="setting-group">
                <label>–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º—ã—à–∏</label>
                <input type="range" id="mouse-sens" min="1" max="10" value="5">
            </div>
            <div class="setting-group">
                <label>–ö–∞—á–µ—Å—Ç–≤–æ –≥—Ä–∞—Ñ–∏–∫–∏</label>
                <select id="graphics-quality">
                    <option value="low">–ù–∏–∑–∫–æ–µ</option>
                    <option value="medium" selected>–°—Ä–µ–¥–Ω–µ–µ</option>
                    <option value="high">–í—ã—Å–æ–∫–æ–µ</option>
                </select>
            </div>
            <button id="save-settings" class="doom-btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button id="close-settings" class="doom-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script src="doom.js"></script>
</body>
</html> 